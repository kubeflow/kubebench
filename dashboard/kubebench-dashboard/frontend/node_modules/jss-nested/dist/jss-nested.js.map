{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap a9c5c474504b3a1a562d","webpack:///./src/index.js","webpack:///./~/warning/browser.js"],"names":["jssNested","separatorRegExp","parentRegExp","refRegExp","getReplaceRef","container","match","key","rule","getRule","selector","options","meta","hasAnd","str","indexOf","replaceParentRefs","nestedProp","parentProp","parentSelectors","split","nestedSelectors","result","i","length","parent","j","nested","replace","getOptions","index","nestingLevel","undefined","onProcessStyle","style","type","replaceRef","prop","isNested","isNestedConditional","addRule"],"mappings":"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","file":"jss-nested.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jssNested\"] = factory();\n\telse\n\t\troot[\"jssNested\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a9c5c474504b3a1a562d","import warning from 'warning'\n\nconst separatorRegExp = /\\s*,\\s*/g\nconst parentRegExp = /&/g\nconst refRegExp = /\\$([\\w-]+)/g\n\n/**\n * Convert nested rules to separate, remove them from original styles.\n *\n * @param {Rule} rule\n * @api public\n */\nexport default function jssNested() {\n  // Get a function to be used for $ref replacement.\n  function getReplaceRef(container) {\n    return (match, key) => {\n      const rule = container.getRule(key)\n      if (rule) return rule.selector\n      warning(\n        false,\n        '[JSS] Could not find the referenced rule %s in %s.',\n        key,\n        container.options.meta || container\n      )\n      return key\n    }\n  }\n\n  const hasAnd = str => str.indexOf('&') !== -1\n\n  function replaceParentRefs(nestedProp, parentProp) {\n    const parentSelectors = parentProp.split(separatorRegExp)\n    const nestedSelectors = nestedProp.split(separatorRegExp)\n\n    let result = ''\n\n    for (let i = 0; i < parentSelectors.length; i++) {\n      const parent = parentSelectors[i]\n\n      for (let j = 0; j < nestedSelectors.length; j++) {\n        const nested = nestedSelectors[j]\n        if (result) result += ', '\n        // Replace all & by the parent or prefix & with the parent.\n        result += hasAnd(nested) ? nested.replace(parentRegExp, parent) : `${parent} ${nested}`\n      }\n    }\n\n    return result\n  }\n\n  function getOptions(rule, container, options) {\n    // Options has been already created, now we only increase index.\n    if (options) return {...options, index: options.index + 1}\n\n    let {nestingLevel} = rule.options\n    nestingLevel = nestingLevel === undefined ? 1 : nestingLevel + 1\n\n    return {\n      ...rule.options,\n      nestingLevel,\n      index: container.indexOf(rule) + 1\n    }\n  }\n\n  function onProcessStyle(style, rule) {\n    if (rule.type !== 'style') return style\n    const container = rule.options.parent\n    let options\n    let replaceRef\n    for (const prop in style) {\n      const isNested = hasAnd(prop)\n      const isNestedConditional = prop[0] === '@'\n\n      if (!isNested && !isNestedConditional) continue\n\n      options = getOptions(rule, container, options)\n\n      if (isNested) {\n        let selector = replaceParentRefs(prop, rule.selector)\n        // Lazily create the ref replacer function just once for\n        // all nested rules within the sheet.\n        if (!replaceRef) replaceRef = getReplaceRef(container)\n        // Replace all $refs.\n        selector = selector.replace(refRegExp, replaceRef)\n\n        container.addRule(selector, style[prop], {...options, selector})\n      }\n      else if (isNestedConditional) {\n        container\n          // Place conditional right after the parent rule to ensure right ordering.\n          .addRule(prop, null, options)\n          .addRule(rule.key, style[prop], {selector: rule.selector})\n      }\n\n      delete style[prop]\n    }\n\n    return style\n  }\n\n  return {onProcessStyle}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n        '`warning(condition, format, ...args)` requires a warning ' +\n        'message argument'\n      );\n    }\n\n    if (format.length < 10 || (/^[s\\W]*$/).test(format)) {\n      throw new Error(\n        'The warning format should be able to uniquely identify this ' +\n        'warning. Please, use a more descriptive format than: ' + format\n      );\n    }\n\n    if (!condition) {\n      var argIndex = 0;\n      var message = 'Warning: ' +\n        format.replace(/%s/g, function() {\n          return args[argIndex++];\n        });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch(x) {}\n    }\n  };\n}\n\nmodule.exports = warning;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/warning/browser.js\n// module id = 1\n// module chunks = 0"],"sourceRoot":""}
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],n):n(t.Recompose={},t.React)}(this,function(t,a){"use strict";var i="default"in a?a.default:a,n=function(n,e){return function(t){return t[n]=e,t}},r=function(t){return"string"==typeof t?t:t?t.displayName||t.name||"Component":void 0},o=function(e){return function(t){var n=a.createFactory(t);return function(t){return n(e(t))}}};function p(){return(p=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function s(t,n){t.prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n}function f(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=t&&this.setState(t)}function l(t){var n=this.constructor.getDerivedStateFromProps(t,this.state);null!=n&&this.setState(n)}function y(t,n){try{var e=this.props,r=this.state;this.props=t,this.state=n,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(e,r)}finally{this.props=e,this.state=r}}function c(t){var n=t.prototype;if(!n||!n.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof n.getSnapshotBeforeUpdate)return t;var e=null,r=null,o=null;if("function"==typeof n.componentWillMount?e="componentWillMount":"function"==typeof n.UNSAFE_componentWillMount&&(e="UNSAFE_componentWillMount"),"function"==typeof n.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof n.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof n.componentWillUpdate?o="componentWillUpdate":"function"==typeof n.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==e||null!==r||null!==o){var u=t.displayName||t.name,i="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+i+" but also contains the following legacy lifecycles:"+(null!==e?"\n  "+e:"")+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof t.getDerivedStateFromProps&&(n.componentWillMount=f,n.componentWillReceiveProps=l),"function"==typeof n.getSnapshotBeforeUpdate){if("function"!=typeof n.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");n.componentWillUpdate=y;var c=n.componentDidUpdate;n.componentDidUpdate=function(t,n,e){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:e;c.call(this,t,n,r)}}return t}y.__suppressDeprecationWarning=l.__suppressDeprecationWarning=f.__suppressDeprecationWarning=!0;var h=function(t,n){for(var e={},r=0;r<n.length;r++){var o=n[r];t.hasOwnProperty(o)&&(e[o]=t[o])}return e},u=Object.prototype.hasOwnProperty;function d(t,n){return t===n?0!==t||0!==n||1/t==1/n:t!=t&&n!=n}var v=function(t,n){if(d(t,n))return!0;if("object"!=typeof t||null===t||"object"!=typeof n||null===n)return!1;var e=Object.keys(t),r=Object.keys(n);if(e.length!==r.length)return!1;for(var o=0;o<e.length;o++)if(!u.call(n,e[o])||!d(t[e[o]],n[e[o]]))return!1;return!0},m=function(t,n){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=n(t[r],r));return e},b=function(t,n){for(var e=p({},t),r=0;r<n.length;r++){var o=n[r];e.hasOwnProperty(o)&&delete e[o]}return e},g=Object.keys,S=function(){},e=function(t){return t},P=function(t){function n(){return t.apply(this,arguments)||this}return s(n,t),n.prototype.render=function(){return null},n}(a.Component),O=function(o){return function(t){var r=a.createFactory(t);return function(t){function n(){return t.apply(this,arguments)||this}s(n,t);var e=n.prototype;return e.shouldComponentUpdate=function(t){return o(this.props,t)},e.render=function(){return r(this.props)},n}(a.Component)}},w=function(e){return O(function(t,n){return!v(h(n,e),h(t,e))})},F=function(t){return Boolean(t&&t.prototype&&"function"==typeof t.prototype.render)};var E={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},_={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},C=Object.defineProperty,U=Object.getOwnPropertyNames,x=Object.getOwnPropertySymbols,j=Object.getOwnPropertyDescriptor,W=Object.getPrototypeOf,D=W&&W(Object),A="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function N(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function T(t,n){return t(n={exports:{}},n.exports),n.exports}var R=T(function(t,n){Object.defineProperty(n,"__esModule",{value:!0});n.createChangeEmitter=function(){var e=[],r=e;function o(){r===e&&(r=e.slice())}return{listen:function(n){if("function"!=typeof n)throw new Error("Expected listener to be a function.");var e=!0;return o(),r.push(n),function(){if(e){e=!1,o();var t=r.indexOf(n);r.splice(t,1)}}},emit:function(){for(var t=e=r,n=0;n<t.length;n++)t[n].apply(t,arguments)}}}});N(R);var V=R.createChangeEmitter,M=T(function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){var n,e=t.Symbol;"function"==typeof e?e.observable?n=e.observable:(n=e("observable"),e.observable=n):n="@@observable";return n}});N(M);var k=T(function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var e,r,o=(e=M)&&e.__esModule?e:{default:e};r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==A?A:t;var u=(0,o.default)(r);n.default=u});N(k);var I=k,B={fromESObservable:null,toESObservable:null},H={fromESObservable:function(t){return"function"==typeof B.fromESObservable?B.fromESObservable(t):t},toESObservable:function(t){return"function"==typeof B.toESObservable?B.toESObservable(t):t}},$=function(c){return function(i){return function(u){function t(){for(var t,e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=u.call.apply(u,[this].concat(r))||this).state={vdom:null},e.propsEmitter=V(),e.props$=c.fromESObservable(((t={subscribe:function(n){return{unsubscribe:e.propsEmitter.listen(function(t){t?n.next(t):n.complete()})}}})[I]=function(){return this},t)),e.vdom$=c.toESObservable(i(e.props$)),e}s(t,u);var n=t.prototype;return n.componentWillMount=function(){var n=this;this.subscription=this.vdom$.subscribe({next:function(t){n.setState({vdom:t})}}),this.propsEmitter.emit(this.props)},n.componentWillReceiveProps=function(t){this.propsEmitter.emit(t)},n.shouldComponentUpdate=function(t,n){return n.vdom!==this.state.vdom},n.componentWillUnmount=function(){this.propsEmitter.emit(),this.subscription.unsubscribe()},n.render=function(){return this.state.vdom},t}(a.Component)}},q=function(t){return t},z=function(n){var e=$({fromESObservable:q,toESObservable:q});return function(i){return function(t){var r=a.createFactory(t),o=n.fromESObservable,u=n.toESObservable;return e(function(e){var t;return(t={subscribe:function(n){var t=u(i(o(e))).subscribe({next:function(t){return n.next(r(t))}});return{unsubscribe:function(){return t.unsubscribe()}}}})[I]=function(){return this},t})}}},K=function(r){return function(){var t,e=V(),n=r.fromESObservable(((t={subscribe:function(n){return{unsubscribe:e.listen(function(t){return n.next(t)})}}})[I]=function(){return this},t));return{handler:e.emit,stream:n}}},L=K(H);t.mapProps=o,t.withProps=function(n){return o(function(t){return p({},t,"function"==typeof n?n(t):n)})},t.withPropsOnChange=function(o,u){return function(t){var n=a.createFactory(t),e="function"==typeof o?o:function(t,n){return!v(h(t,o),h(n,o))},r=function(o){function t(){for(var t,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(t=o.call.apply(o,[this].concat(e))||this).state={computedProps:u(t.props),prevProps:t.props},t}return s(t,o),t.getDerivedStateFromProps=function(t,n){return e(n.prevProps,t)?{computedProps:u(t),prevProps:t}:{prevProps:t}},t.prototype.render=function(){return n(p({},this.props,this.state.computedProps))},t}(a.Component);return c(r),r}},t.withHandlers=function(u){return function(t){var n=a.createFactory(t);return function(o){function t(){for(var n,t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return(n=o.call.apply(o,[this].concat(e))||this).handlers=m("function"==typeof u?u(n.props):u,function(t){return function(){return t(n.props).apply(void 0,arguments)}}),n}return s(t,o),t.prototype.render=function(){return n(p({},this.props,this.handlers))},t}(a.Component)}},t.defaultProps=function(r){return function(t){var n=a.createFactory(t),e=function(t){return n(t)};return e.defaultProps=r,e}},t.renameProp=function(e,r){return o(function(t){var n;return p({},b(t,[e]),((n={})[r]=t[e],n))})},t.renameProps=function(e){return o(function(t){return p({},b(t,g(e)),(r=h(t,g(e)),o=function(t,n){return e[n]},g(r).reduce(function(t,n){var e=r[n];return t[o(e,n)]=e,t},{})));var r,o})},t.flattenProp=function(e){return function(t){var n=a.createFactory(t);return function(t){return n(p({},t,t[e]))}}},t.withState=function(e,r,u){return function(t){var n=a.createFactory(t);return function(o){function t(){for(var n,t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return(n=o.call.apply(o,[this].concat(e))||this).state={stateValue:"function"==typeof u?u(n.props):u},n.updateStateValue=function(e,t){return n.setState(function(t){var n=t.stateValue;return{stateValue:"function"==typeof e?e(n):e}},t)},n}return s(t,o),t.prototype.render=function(){var t;return n(p({},this.props,((t={})[e]=this.state.stateValue,t[r]=this.updateStateValue,t)))},t}(a.Component)}},t.withStateHandlers=function(o,i){return function(t){var n=a.createFactory(t);return function(r){function t(){for(var u,t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return(u=r.call.apply(r,[this].concat(n))||this).state="function"==typeof o?o(u.props):o,u.stateUpdaters=m(i,function(o){return function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];e&&"function"==typeof e.persist&&e.persist(),u.setState(function(t,n){return o(t,n).apply(void 0,[e].concat(r))})}}),u}return s(t,r),t.prototype.render=function(){return n(p({},this.props,this.state,this.stateUpdaters))},t}(a.Component)}},t.withReducer=function(r,u,i,c){return function(t){var e=a.createFactory(t);return function(o){function t(){for(var n,t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return(n=o.call.apply(o,[this].concat(e))||this).state={stateValue:n.initializeStateValue()},n.dispatch=function(e,t){return void 0===t&&(t=S),n.setState(function(t){var n=t.stateValue;return{stateValue:i(n,e)}},function(){return t(n.state.stateValue)})},n}s(t,o);var n=t.prototype;return n.initializeStateValue=function(){return void 0!==c?"function"==typeof c?c(this.props):c:i(void 0,{type:"@@recompose/INIT"})},n.render=function(){var t;return e(p({},this.props,((t={})[r]=this.state.stateValue,t[u]=this.dispatch,t)))},t}(a.Component)}},t.branch=function(o,u,i){return void 0===i&&(i=e),function(n){var e,r;return function(t){return o(t)?(e=e||a.createFactory(u(n)))(t):(r=r||a.createFactory(i(n)))(t)}}},t.renderComponent=function(e){return function(t){var n=a.createFactory(e);return function(t){return n(t)}}},t.renderNothing=function(t){return P},t.shouldUpdate=O,t.pure=function(t){return O(function(t,n){return!v(t,n)})(t)},t.onlyUpdateForKeys=w,t.onlyUpdateForPropTypes=function(t){var n=t.propTypes,e=Object.keys(n||{});return w(e)(t)},t.withContext=function(r,u){return function(t){var n=a.createFactory(t),e=function(o){function t(){for(var t,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(t=o.call.apply(o,[this].concat(e))||this).getChildContext=function(){return u(t.props)},t}return s(t,o),t.prototype.render=function(){return n(this.props)},t}(a.Component);return e.childContextTypes=r,e}},t.getContext=function(r){return function(t){var e=a.createFactory(t),n=function(t,n){return e(p({},t,n))};return n.contextTypes=r,n}},t.lifecycle=function(r){return function(t){var e=a.createFactory(t),n=function(t){function n(){return t.apply(this,arguments)||this}return s(n,t),n.prototype.render=function(){return e(p({},this.props,this.state))},n}(a.Component);return Object.keys(r).forEach(function(t){return n.prototype[t]=r[t]}),n}},t.toClass=function(e){var t,n;return F(e)?e:(n=t=function(t){function n(){return t.apply(this,arguments)||this}return s(n,t),n.prototype.render=function(){return"string"==typeof e?i.createElement(e,this.props):e(this.props,this.context)},n}(a.Component),t.displayName=r(e),t.propTypes=e.propTypes,t.contextTypes=e.contextTypes,t.defaultProps=e.defaultProps,n)},t.toRenderProps=function(t){return t(function(t){return t.children(t)})},t.fromRenderProps=function(n,o,u){return void 0===u&&(u="children"),function(t){var e=i.createFactory(t),r=i.createFactory(n);return function(t){var n;return r(((n={})[u]=function(){return e(p({},t,o.apply(void 0,arguments)))},n))}}},t.setStatic=n,t.setPropTypes=function(t){return n("propTypes",t)},t.setDisplayName=function(t){return n("displayName",t)},t.compose=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return n.reduce(function(t,n){return function(){return t(n.apply(void 0,arguments))}},function(t){return t})},t.getDisplayName=r,t.wrapDisplayName=function(t,n){return n+"("+r(t)+")"},t.shallowEqual=v,t.isClassComponent=F,t.createSink=function(n){var t=function(o){function t(){for(var t,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(t=o.call.apply(o,[this].concat(e))||this).state={},t}return s(t,o),t.getDerivedStateFromProps=function(t){return n(t),null},t.prototype.render=function(){return null},t}(a.Component);return c(t),t},t.componentFromProp=function(n){var t=function(t){return a.createElement(t[n],b(t,[n]))};return t.displayName="componentFromProp("+n+")",t},t.nest=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];var r=n.map(a.createFactory);return function(t){var n=t.children,e=function(t,n){if(null==t)return{};var e,r,o={},u=Object.keys(t);for(r=0;r<u.length;r++)e=u[r],0<=n.indexOf(e)||(o[e]=t[e]);return o}(t,["children"]);return r.reduceRight(function(t,n){return n(e,t)},n)}},t.hoistStatics=function(e,r){return function(t){var n=e(t);return function t(n,e,r){if("string"!=typeof e){if(D){var o=W(e);o&&o!==D&&t(n,o,r)}var u=U(e);x&&(u=u.concat(x(e)));for(var i=0;i<u.length;++i){var c=u[i];if(!(E[c]||_[c]||r&&r[c])){var a=j(e,c);try{C(n,c,a)}catch(t){}}}return n}return n}(n,t,r),n}},t.componentFromStream=function(t){return $(H)(t)},t.componentFromStreamWithConfig=$,t.mapPropsStream=function(t){return z(H)(t)},t.mapPropsStreamWithConfig=z,t.createEventHandler=L,t.createEventHandlerWithConfig=K,t.setObservableConfig=function(t){B=t},Object.defineProperty(t,"__esModule",{value:!0})});

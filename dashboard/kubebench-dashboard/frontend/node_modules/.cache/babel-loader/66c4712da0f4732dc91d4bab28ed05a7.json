{"ast":null,"code":"import _regeneratorRuntime from \"/home/akado2009/go/src/github.com/kubeflow/kubebench/dashboard/frontend/node_modules/@babel/runtime/regenerator\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(rootSaga);\n\nimport { take, put, call, fork, select, all, takeEvery } from 'redux-saga/effects';\nimport * as actions from '../actions';\nimport axios from 'axios'; // const shittyOne = () => {\n//     return {\n//         type: 'REQUESTED_SHIT'\n//     }\n// };\n//\n// function* watchShitty() {\n//     yield takeEvery('REQUESTED_SHIT', shittyOneAsync);\n// }\n//\n// function* shittyOneAsync() {\n//     try {\n//         const data = yield call(() => {\n//             //send request here\n//             fetch('https://dog.ceo/api/breeds/image/random')\n//                 .then(res => res.json())\n//         })\n//\n//     }catch(error) {\n//         yield  put('SHIT');\n//     }\n// }\n\nexport var fetchJobsSaga =\n/*#__PURE__*/\n_regeneratorRuntime.mark(function fetchJobsSaga() {\n  var action, result;\n  return _regeneratorRuntime.wrap(function fetchJobsSaga$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return take(actions.FETCH_JOB_REQUEST);\n\n        case 2:\n          action = _context.sent;\n          _context.prev = 3;\n          _context.next = 6;\n          return call(fetchJobsGo);\n\n        case 6:\n          result = _context.sent;\n          console.log(result);\n          _context.next = 14;\n          break;\n\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context[\"catch\"](3);\n          console.log(_context.t0.message);\n          return _context.abrupt(\"return\", Promise.reject(_context.t0.message));\n\n        case 14:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, fetchJobsSaga, this, [[3, 10]]);\n});\n\nvar fetchJobsGo =\n/*#__PURE__*/\n_regeneratorRuntime.mark(function fetchJobsGo() {\n  var data, result;\n  return _regeneratorRuntime.wrap(function fetchJobsGo$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          console.log('here');\n          data = {};\n          _context2.next = 5;\n          return call(axios.get, '127.0.0.1:9303/fetch_jobs');\n\n        case 5:\n          result = _context2.sent;\n          console.log(result);\n          _context2.next = 13;\n          break;\n\n        case 9:\n          _context2.prev = 9;\n          _context2.t0 = _context2[\"catch\"](0);\n          _context2.next = 13;\n          return put({\n            type: actions.FETCH_JOB_FAILURE,\n            error: \"Whoops, something is wrong...\"\n          });\n\n        case 13:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, fetchJobsGo, this, [[0, 9]]);\n});\n\nexport default function rootSaga() {\n  return _regeneratorRuntime.wrap(function rootSaga$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.next = 2;\n          return all([fetchJobsSaga()]);\n\n        case 2:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked, this);\n}\n;","map":{"version":3,"sources":["/home/akado2009/go/src/github.com/kubeflow/kubebench/dashboard/frontend/src/sagas/index.js"],"names":["rootSaga","take","put","call","fork","select","all","takeEvery","actions","axios","fetchJobsSaga","FETCH_JOB_REQUEST","action","fetchJobsGo","result","console","log","message","Promise","reject","data","get","type","FETCH_JOB_FAILURE","error"],"mappings":";;;;yBA4DyBA,Q;;AA5DzB,SAASC,IAAT,EAAeC,GAAf,EAAoBC,IAApB,EAA0BC,IAA1B,EAAgCC,MAAhC,EAAwCC,GAAxC,EAA6CC,SAA7C,QAA8D,oBAA9D;AACA,OAAO,KAAKC,OAAZ,MAAyB,YAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,IAAMC,aAAa;AAAA;AAAA,yBAAG,SAAhBA,aAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACV,iBAAMT,IAAI,CAACO,OAAO,CAACG,iBAAT,CAAV;;AADU;AACnBC,UAAAA,MADmB;AAAA;AAAA;AAGN,iBAAMT,IAAI,CACrBU,WADqB,CAAV;;AAHM;AAGfC,UAAAA,MAHe;AAOrBC,UAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AAPqB;AAAA;;AAAA;AAAA;AAAA;AASrBC,UAAAA,OAAO,CAACC,GAAR,CAAY,YAAIC,OAAhB;AATqB,2CAUdC,OAAO,CAACC,MAAR,CAAe,YAAIF,OAAnB,CAVc;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAhBP,aAAgB;AAAA,CAAH,CAAnB;;AAcP,IAAMG,WAAW;AAAA;AAAA,yBAAG,SAAdA,WAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEZE,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACII,UAAAA,IAHQ,GAGD,EAHC;AAAA;AAKG,iBAAMjB,IAAI,CACrBM,KAAK,CAACY,GADe,EAErB,2BAFqB,CAAV;;AALH;AAKNP,UAAAA,MALM;AAUZC,UAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AAVY;AAAA;;AAAA;AAAA;AAAA;AAAA;AAYZ,iBAAMZ,GAAG,CAAC;AACNoB,YAAAA,IAAI,EAAEd,OAAO,CAACe,iBADR;AAENC,YAAAA,KAAK,EAAE;AAFD,WAAD,CAAT;;AAZY;AAAA;AAAA;AAAA;AAAA;AAAA,KAAdX,WAAc;AAAA,CAAH,CAAjB;;AAmBA,eAAe,SAAUb,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AACX,iBAAMM,GAAG,CAAC,CACNI,aAAa,EADP,CAAD,CAAT;;AADW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAId","sourcesContent":["import { take, put, call, fork, select, all, takeEvery } from 'redux-saga/effects';\nimport * as actions from '../actions';\nimport axios from 'axios';\n\n// const shittyOne = () => {\n//     return {\n//         type: 'REQUESTED_SHIT'\n//     }\n// };\n//\n// function* watchShitty() {\n//     yield takeEvery('REQUESTED_SHIT', shittyOneAsync);\n// }\n//\n// function* shittyOneAsync() {\n//     try {\n//         const data = yield call(() => {\n//             //send request here\n//             fetch('https://dog.ceo/api/breeds/image/random')\n//                 .then(res => res.json())\n//         })\n//\n//     }catch(error) {\n//         yield  put('SHIT');\n//     }\n// }\n\nexport const fetchJobsSaga = function *() {\n    const action = yield take(actions.FETCH_JOB_REQUEST);\n    try {\n        const result = yield call(\n            fetchJobsGo\n        );\n        \n        console.log(result);\n    } catch (err) {\n        console.log(err.message)\n        return Promise.reject(err.message)\n    }\n};\n\nconst fetchJobsGo = function* () {\n    try {\n        console.log('here')\n        let data = {}\n\n        const result = yield call(\n            axios.get,\n            '127.0.0.1:9303/fetch_jobs'\n        );\n\n        console.log(result)\n    } catch (err) {\n        yield put({\n            type: actions.FETCH_JOB_FAILURE,\n            error: \"Whoops, something is wrong...\",\n        });\n    }\n}\n\nexport default function* rootSaga() {\n    yield all([\n        fetchJobsSaga()\n    ]);\n};"]},"metadata":{},"sourceType":"module"}